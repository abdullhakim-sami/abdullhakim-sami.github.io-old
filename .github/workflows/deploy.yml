# name: Deploy to GitHub Pages

# on:
#   # Trigger the workflow every time you push to the `main` branch
#   # Using a different branch name? Replace `main` with your branch‚Äôs name
#   push:
#     branches: [ main ]
#   # Allows you to run this workflow manually from the Actions tab on GitHub.
#   workflow_dispatch:

# # Allow this job to clone the repo and create a page deployment
# permissions:
#   contents: read
#   pages: write
#   id-token: write

# jobs:
#   # Build job
#   build:

  
  
#     runs-on: ubuntu-latest
#     concurrency:
#       group: ${{ github.workflow }}-${{ github.ref }}
#     steps:
#     - uses: actions/checkout@v4

#     - uses: actions/setup-node@v4
#       with:
#         node-version: '20'

#     - uses: actions/cache@v3
#       with:
#         path: ~/.npm
#         key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
#         restore-keys: |
#           ${{ runner.os }}-node-

#     - run: |
#         npm install elm-land -g

#     - run: |
#         elm-land build
#       env:
#         PUBLIC_URL: /dist


#     # <Not provided for brevity>
#     # At a minimum this job should upload artifacts using actions/upload-pages-artifact

#   # Deploy job
#   deploy:
#     # Add a dependency to the build job
#     needs: build

#     # Grant GITHUB_TOKEN the permissions required to make a Pages deployment
#     permissions:
#       pages: write      # to deploy to Pages
#       id-token: write   # to verify the deployment originates from an appropriate source

#     # Deploy to the github-pages environment
#     environment:
#       name: github-pages
#       url: ${{ steps.deployment.outputs.page_url }}

#     # Specify runner + deployment step
#     runs-on: ubuntu-latest
#     steps:
#       - name: Archive production artifacts
#         uses: actions/upload-artifact@v3
#         with:
#           name: dist-without-markdown
#           path: |
#             dist
#       - name: Deploy to GitHub Pages
#         id: deployment
#         uses: actions/deploy-pages@v4 # or specific "vX.X.X" version tag for this action


name: Build and Deploy
on:
  # Trigger the workflow every time you push to the `main` branch
  # Using a different branch name? Replace `main` with your branch‚Äôs name
  push:
    branches: [ main ]
  # Allows you to run this workflow manually from the Actions tab on GitHub.
  workflow_dispatch:

# Allow this job to clone the repo and create a page deployment
permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  build-and-deploy:
    # concurrency: ci-${{ github.ref }} # Recommended if you intend to make multiple deployments in quick succession.
    runs-on: ubuntu-latest
    steps:
      - name: Checkout üõéÔ∏è
        uses: actions/checkout@v3

      - name: Install and Build üîß # This example project is built using npm and outputs the result to the 'build' folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.
        run: |
          npm ci
          npx elm-land build

      - name: Deploy üöÄ
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          folder: dist # The folder the action should deploy.